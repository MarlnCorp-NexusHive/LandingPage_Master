<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarlynCorp - Comprehensive Test Suite</title>
    <link rel="stylesheet" href="css/f1225b8e5b82e8a69bb95d9a974ef054.css">
    <link rel="stylesheet" href="css/dropdown-override.css">
    <link rel="stylesheet" href="css/rtl.css">
    <style>
        /* Test Suite Specific Styles */
        .test-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            font-family: 'Presicav-Regular', sans-serif;
        }
        
        .test-header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .test-section {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        
        .test-section-header {
            background: #343a40;
            color: white;
            padding: 15px 20px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .test-section-header:hover {
            background: #495057;
        }
        
        .test-section-content {
            padding: 20px;
            display: none;
        }
        
        .test-section-content.active {
            display: block;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .test-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        
        .test-button:hover {
            background: #0056b3;
        }
        
        .test-button.success {
            background: #28a745;
        }
        
        .test-button.danger {
            background: #dc3545;
        }
        
        .test-button.warning {
            background: #ffc107;
            color: #212529;
        }
        
        .test-button.info {
            background: #17a2b8;
            color: white;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-success { background: #28a745; }
        .status-error { background: #dc3545; }
        .status-warning { background: #ffc107; }
        .status-info { background: #17a2b8; }
        
        .test-result {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .test-result.success {
            border-left-color: #28a745;
            background: #d4edda;
        }
        
        .test-result.error {
            border-left-color: #dc3545;
            background: #f8d7da;
        }
        
        .test-result.warning {
            border-left-color: #ffc107;
            background: #fff3cd;
        }
        
        .page-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .page-link {
            display: block;
            padding: 15px;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            text-decoration: none;
            color: #495057;
            text-align: center;
            transition: all 0.3s;
        }
        
        .page-link:hover {
            background: #007bff;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .toggle-controls {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: #4CAF50;
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .console-output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
        }
        
        .rtl-test {
            direction: rtl;
            text-align: right;
            padding: 15px;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .theme-preview {
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            transition: all 0.3s;
        }
        
        .theme-preview.light {
            background: #ffffff;
            color: #212529;
            border: 1px solid #dee2e6;
        }
        
        .theme-preview.dark {
            background: #0e1116;
            color: #eef2f7;
            border: 1px solid #2b3647;
        }
        
        .logo-test {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 15px 0;
        }
        
        .logo-test img {
            height: 50px;
            border: 2px solid #dee2e6;
            border-radius: 5px;
            padding: 5px;
        }
        
        .dropdown-test {
            position: relative;
            display: inline-block;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            border-radius: 5px;
        }
        
        .dropdown-test:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        
        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }
        
        .responsive-test {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .responsive-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .test-grid {
                grid-template-columns: 1fr;
            }
            
            .toggle-controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <!-- Header -->
        <div class="test-header">
            <h1>üöÄ MarlynCorp Comprehensive Test Suite</h1>
            <p>Test all website functionality including language toggles, theme toggles, and consistency checks</p>
            <div class="toggle-controls">
                <div class="toggle-group">
                    <label>üåô Dark Mode:</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="themeToggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="toggle-group">
                    <label>üåç Language:</label>
                    <select id="languageToggle">
                        <option value="en">English</option>
                        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Language & Theme Testing -->
        <div class="test-section">
            <div class="test-section-header" onclick="toggleSection(this)">
                üåç Language & Theme Testing
                <span>‚ñº</span>
            </div>
            <div class="test-section-content">
                <div class="test-grid">
                    <div class="test-card">
                        <h3>Language Toggle Test</h3>
                        <p>Test switching between English and Arabic</p>
                        <button class="test-button" onclick="testLanguageToggle()">Test Language Switch</button>
                        <button class="test-button warning" onclick="testLanguageSystem()">Test Language System</button>
                        <div id="languageTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>Language System Status</h3>
                        <p>Check if the main language system is available</p>
                        <div id="languageSystemStatus">
                            <p><strong>Status:</strong> <span id="langSystemStatus">Checking...</span></p>
                            <p><strong>Available Functions:</strong> <span id="langFunctions">Loading...</span></p>
                        </div>
                        <button class="test-button info" onclick="refreshLanguageStatus()">Refresh Status</button>
                    </div>
                    
                    <div class="test-card">
                        <h3>Theme Toggle Test</h3>
                        <p>Test switching between light and dark themes</p>
                        <button class="test-button" onclick="testThemeToggle()">Test Theme Switch</button>
                        <div id="themeTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>RTL Layout Test</h3>
                        <p>Test right-to-left text direction for Arabic</p>
                        <div class="rtl-test" id="rtlTest">
                            <p>This text should be right-aligned in RTL mode</p>
                            <p>ÿßŸÑŸÜÿµ Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ŸÖÿ≠ÿßÿ∞ŸäÿßŸã ŸÑŸÑŸäŸÖŸäŸÜ ŸÅŸä Ÿàÿ∂ÿπ RTL</p>
                        </div>
                        <button class="test-button" onclick="testRTL()">Test RTL</button>
                    </div>
                    
                    <div class="test-card">
                        <h3>Logo Switching Test</h3>
                        <p>Test logo changes between themes</p>
                        <div class="logo-test">
                            <img src="images/marlncorplight.svg" alt="Light Logo" id="lightLogo">
                            <img src="images/marlncorpdark.svg" alt="Dark Logo" id="darkLogo">
                        </div>
                        <button class="test-button" onclick="testLogoSwitch()">Test Logo Switch</button>
                    </div>
                </div>
                
                <div class="theme-preview light" id="themePreview">
                    <h3>Theme Preview</h3>
                    <p>This section shows how content will look in the current theme.</p>
                    <p>Colors, backgrounds, and typography should change appropriately.</p>
                </div>
            </div>
        </div>

        <!-- Page Consistency Testing -->
        <div class="test-section">
            <div class="test-section-header" onclick="toggleSection(this)">
                üìÑ Page Consistency Testing
                <span>‚ñº</span>
            </div>
            <div class="test-section-content">
                <h3>Test All Website Pages</h3>
                <p>Click on any page to test its functionality and consistency</p>
                
                <div class="page-links">
                    <a href="index.html" class="page-link" target="_blank">üè† Home Page</a>
                    <a href="about-us.html" class="page-link" target="_blank">üë• About Us</a>
                    <a href="ai-powered-consulting.html" class="page-link" target="_blank">ü§ñ AI Consulting</a>
                    <a href="engineering-services.html" class="page-link" target="_blank">‚öôÔ∏è Engineering</a>
                    <a href="data-analytics.html" class="page-link" target="_blank">üìä Data Analytics</a>
                    <a href="corporate-social-responsibility.html" class="page-link" target="_blank">üå± CSR</a>
                    <a href="technology-partners.html" class="page-link" target="_blank">ü§ù Partners</a>
                    <a href="industry.html" class="page-link" target="_blank">üè≠ Industry</a>
                    <a href="marln-company-profile.html" class="page-link" target="_blank">üè¢ Company Profile</a>
                </div>
                
                <div class="test-grid">
                    <div class="test-card">
                        <h3>Header Consistency</h3>
                        <p>Test if headers are consistent across all pages</p>
                        <button class="test-button" onclick="testHeaderConsistency()">Test Headers</button>
                        <div id="headerTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>Navigation Testing</h3>
                        <p>Test navigation menus and dropdowns</p>
                        <div class="dropdown-test">
                            <button class="test-button">Services ‚ñº</button>
                            <div class="dropdown-content">
                                <a href="#">AI Consulting</a>
                                <a href="#">Engineering</a>
                                <a href="#">Data Analytics</a>
                                <a href="#">Corporate Training</a>
                            </div>
                        </div>
                        <button class="test-button" onclick="testNavigation()">Test Navigation</button>
                    </div>
                    
                    <div class="test-card">
                        <h3>Footer Consistency</h3>
                        <p>Test if footers are consistent across all pages</p>
                        <button class="test-button" onclick="testFooterConsistency()">Test Footers</button>
                        <div id="footerTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>Contact Form Testing</h3>
                        <p>Test contact forms and validation</p>
                        <button class="test-button" onclick="testContactForms()">Test Forms</button>
                        <div id="contactFormTestResult"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Functionality Testing -->
        <div class="test-section">
            <div class="test-section-header" onclick="toggleSection(this)">
                ‚öôÔ∏è Functionality Testing
                <span>‚ñº</span>
            </div>
            <div class="test-section-content">
                <div class="test-grid">
                    <div class="test-card">
                        <h3>Image Loading Test</h3>
                        <p>Test if all images load correctly</p>
                        <button class="test-button" onclick="testImageLoading()">Test Images</button>
                        <div id="imageTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>CSS Loading Test</h3>
                        <p>Test if all CSS files load correctly</p>
                        <button class="test-button" onclick="testCSSLoading()">Test CSS</button>
                        <div id="cssTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>JavaScript Loading Test</h3>
                        <p>Test if all JavaScript files load correctly</p>
                        <button class="test-button" onclick="testJSLoading()">Test JavaScript</button>
                        <div id="jsTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>Font Loading Test</h3>
                        <p>Test if all custom fonts load correctly</p>
                        <button class="test-button" onclick="testFontLoading()">Test Fonts</button>
                        <div id="fontTestResult"></div>
                    </div>
                </div>
                
                <div class="test-grid">
                    <div class="test-card">
                        <h3>Responsive Design Test</h3>
                        <p>Test responsive behavior at different screen sizes</p>
                        <div class="responsive-test">
                            <div class="responsive-card">
                                <h4>Desktop</h4>
                                <p>1200px+</p>
                            </div>
                            <div class="responsive-card">
                                <h4>Tablet</h4>
                                <p>768px - 1199px</p>
                            </div>
                            <div class="responsive-card">
                                <h4>Mobile</h4>
                                <p>320px - 767px</p>
                            </div>
                        </div>
                        <button class="test-button" onclick="testResponsiveness()">Test Responsiveness</button>
                    </div>
                    
                    <div class="test-card">
                        <h3>Performance Test</h3>
                        <p>Test page load performance and optimization</p>
                        <button class="test-button" onclick="testPerformance()">Test Performance</button>
                        <div id="performanceTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>Accessibility Test</h3>
                        <p>Test basic accessibility features</p>
                        <button class="test-button" onclick="testAccessibility()">Test Accessibility</button>
                        <div id="accessibilityTestResult"></div>
                    </div>
                    
                    <div class="test-card">
                        <h3>Cross-browser Test</h3>
                        <p>Test compatibility across different browsers</p>
                        <button class="test-button" onclick="testCrossBrowser()">Test Compatibility</button>
                        <div id="crossBrowserTestResult"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Debug Console -->
        <div class="test-section">
            <div class="test-section-header" onclick="toggleSection(this)">
                üêõ Debug Console
                <span>‚ñº</span>
            </div>
            <div class="test-section-content">
                <div class="console-output" id="debugConsole">
                    Test Suite initialized. Ready for testing...
                </div>
                <button class="test-button" onclick="clearConsole()">Clear Console</button>
                <button class="test-button" onclick="exportTestResults()">Export Results</button>
            </div>
        </div>

        <!-- Test Results Summary -->
        <div class="test-section">
            <div class="test-section-header" onclick="toggleSection(this)">
                üìä Test Results Summary
                <span>‚ñº</span>
            </div>
            <div class="test-section-content">
                <div id="testSummary">
                    <p>Run tests to see results here...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <script src="js/i18n.min.js"></script>
    
    <script>
        // Test Suite JavaScript
        let testResults = {};
        let currentTheme = 'light';
        let currentLanguage = 'en';

        // Initialize test suite
        document.addEventListener('DOMContentLoaded', function() {
            initializeTestSuite();
            setupEventListeners();
        });

        function initializeTestSuite() {
            logToConsole('üöÄ Test Suite initialized successfully');
            logToConsole('Current theme: ' + currentTheme);
            logToConsole('Current language: ' + currentLanguage);
            
            // Check if theme is stored in localStorage
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme !== currentTheme) {
                setTheme(savedTheme);
            }
            
            // Check if language is stored in localStorage
            const savedLang = localStorage.getItem('language') || 'en';
            if (savedLang !== currentLanguage) {
                setLanguage(savedLang);
            }
        }

        function setupEventListeners() {
            // Theme toggle
            document.getElementById('themeToggle').addEventListener('change', function() {
                const newTheme = this.checked ? 'dark' : 'light';
                setTheme(newTheme);
            });
            
            // Language toggle
            document.getElementById('languageToggle').addEventListener('change', function() {
                setLanguage(this.value);
            });
        }

        function toggleSection(header) {
            const content = header.nextElementSibling;
            const arrow = header.querySelector('span');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                arrow.textContent = '‚ñº';
            } else {
                content.classList.add('active');
                arrow.textContent = '‚ñ≤';
            }
        }

        function setTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute('data-theme', theme);
            document.body.classList.toggle('dark', theme === 'dark');
            localStorage.setItem('theme', theme);
            
            // Update theme preview
            const preview = document.getElementById('themePreview');
            preview.className = `theme-preview ${theme}`;
            
            // Update toggle state
            document.getElementById('themeToggle').checked = theme === 'dark';
            
            logToConsole('Theme changed to: ' + theme);
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            localStorage.setItem('language', lang);
            
            // Update language toggle
            document.getElementById('languageToggle').value = lang;
            
            // Call the actual language system if it exists
            if (window.setLanguage && typeof window.setLanguage === 'function') {
                try {
                    window.setLanguage(lang);
                    logToConsole('Language system called successfully for: ' + lang);
                } catch (error) {
                    logToConsole('Error calling language system: ' + error.message);
                }
            } else {
                logToConsole('Language system not available, using fallback');
                // Fallback: manually apply some basic translations
                applyBasicTranslations(lang);
            }
            
            logToConsole('Language changed to: ' + lang);
        }

        // Test Functions
        function testLanguageToggle() {
            const resultDiv = document.getElementById('languageTestResult');
            try {
                const newLang = currentLanguage === 'en' ? 'ar' : 'en';
                setLanguage(newLang);
                
                // Wait a bit for translations to apply, then check results
                setTimeout(() => {
                    const result = {
                        status: 'success',
                        message: `Language successfully switched to ${newLang}`,
                        details: `Document lang: ${document.documentElement.lang}, dir: ${document.documentElement.dir}. Check if text has been translated.`
                    };
                    
                    displayTestResult(resultDiv, result);
                    testResults.languageToggle = result;
                    
                    // Test if translations actually worked
                    testTranslationEffectiveness(newLang);
                }, 500);
                
            } catch (error) {
                const result = {
                    status: 'error',
                    message: 'Language toggle failed',
                    details: error.message
                };
                
                displayTestResult(resultDiv, result);
                testResults.languageToggle = result;
            }
        }

        function testThemeToggle() {
            const resultDiv = document.getElementById('themeTestResult');
            try {
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                setTheme(newTheme);
                
                const result = {
                    status: 'success',
                    message: `Theme successfully switched to ${newTheme}`,
                    details: `Document theme: ${document.documentElement.getAttribute('data-theme')}`
                };
                
                displayTestResult(resultDiv, result);
                testResults.themeToggle = result;
                
            } catch (error) {
                const result = {
                    status: 'error',
                    message: 'Theme toggle failed',
                    details: error.message
                };
                
                displayTestResult(resultDiv, result);
                testResults.themeToggle = result;
            }
        }

        function testRTL() {
            const resultDiv = document.getElementById('rtlTest');
            const rtlDiv = document.getElementById('rtlTest');
            
            if (currentLanguage === 'ar') {
                rtlDiv.style.direction = 'rtl';
                rtlDiv.style.textAlign = 'right';
                logToConsole('RTL layout applied for Arabic');
            } else {
                rtlDiv.style.direction = 'ltr';
                rtlDiv.style.textAlign = 'left';
                logToConsole('LTR layout applied for English');
            }
        }

        function testLogoSwitch() {
            const lightLogo = document.getElementById('lightLogo');
            const darkLogo = document.getElementById('darkLogo');
            
            if (currentTheme === 'dark') {
                lightLogo.style.display = 'none';
                darkLogo.style.display = 'block';
                logToConsole('Dark logo displayed');
            } else {
                lightLogo.style.display = 'block';
                darkLogo.style.display = 'none';
                logToConsole('Light logo displayed');
            }
        }

        function testHeaderConsistency() {
            const resultDiv = document.getElementById('headerTestResult');
            // This would typically involve checking multiple pages
            // For now, we'll simulate the test
            const result = {
                status: 'info',
                message: 'Header consistency test completed',
                details: 'This test requires checking multiple pages. Open different pages to verify consistency.'
            };
            
            displayTestResult(resultDiv, result);
            testResults.headerConsistency = result;
        }

        function testNavigation() {
            logToConsole('Navigation test: Dropdown menus should appear on hover');
            logToConsole('Check if all navigation links are working');
        }

        function testFooterConsistency() {
            const resultDiv = document.getElementById('footerTestResult');
            const result = {
                status: 'info',
                message: 'Footer consistency test completed',
                details: 'This test requires checking multiple pages. Open different pages to verify consistency.'
            };
            
            displayTestResult(resultDiv, result);
            testResults.footerConsistency = result;
        }

        function testContactForms() {
            const resultDiv = document.getElementById('contactFormTestResult');
            const result = {
                status: 'info',
                message: 'Contact form test completed',
                details: 'Check contact forms on different pages for consistency and functionality.'
            };
            
            displayTestResult(resultDiv, result);
            testResults.contactForms = result;
        }

        function testImageLoading() {
            const resultDiv = document.getElementById('imageTestResult');
            const images = document.querySelectorAll('img');
            let loadedCount = 0;
            let totalCount = images.length;
            
            images.forEach(img => {
                if (img.complete && img.naturalHeight !== 0) {
                    loadedCount++;
                }
            });
            
            const result = {
                status: loadedCount === totalCount ? 'success' : 'warning',
                message: `Image loading test: ${loadedCount}/${totalCount} images loaded`,
                details: loadedCount === totalCount ? 'All images loaded successfully' : 'Some images may not have loaded properly'
            };
            
            displayTestResult(resultDiv, result);
            testResults.imageLoading = result;
        }

        function testCSSLoading() {
            const resultDiv = document.getElementById('cssTestResult');
            const cssFiles = [
                'css/f1225b8e5b82e8a69bb95d9a974ef054.css',
                'css/dropdown-override.css',
                'css/rtl.css'
            ];
            
            let loadedCount = 0;
            cssFiles.forEach(file => {
                const link = document.querySelector(`link[href="${file}"]`);
                if (link && link.sheet) {
                    loadedCount++;
                }
            });
            
            const result = {
                status: loadedCount === cssFiles.length ? 'success' : 'warning',
                message: `CSS loading test: ${loadedCount}/${cssFiles.length} CSS files loaded`,
                details: loadedCount === cssFiles.length ? 'All CSS files loaded successfully' : 'Some CSS files may not have loaded properly'
            };
            
            displayTestResult(resultDiv, result);
            testResults.cssLoading = result;
        }

        function testJSLoading() {
            const resultDiv = document.getElementById('jsTestResult');
            const jsFiles = [
                'js/jquery.min.js',
                'js/i18n.min.js',

            ];
            
            let loadedCount = 0;
            jsFiles.forEach(file => {
                const script = document.querySelector(`script[src="${file}"]`);
                if (script) {
                    loadedCount++;
                }
            });
            
            const result = {
                status: loadedCount === jsFiles.length ? 'success' : 'warning',
                message: `JavaScript loading test: ${loadedCount}/${jsFiles.length} JS files loaded`,
                details: loadedCount === jsFiles.length ? 'All JavaScript files loaded successfully' : 'Some JavaScript files may not have loaded properly'
            };
            
            displayTestResult(resultDiv, result);
            testResults.jsLoading = result;
        }

        function testFontLoading() {
            const resultDiv = document.getElementById('fontTestResult');
            const fonts = [
                'Presicav-Regular',
                'Presicav-Bold',
                'Mariupol-Regular',
                'Mariupol-Bold'
            ];
            
            let loadedCount = 0;
            fonts.forEach(font => {
                if (document.fonts && document.fonts.check(`12px "${font}"`)) {
                    loadedCount++;
                }
            });
            
            const result = {
                status: loadedCount === fonts.length ? 'success' : 'warning',
                message: `Font loading test: ${loadedCount}/${fonts.length} fonts loaded`,
                details: loadedCount === fonts.length ? 'All fonts loaded successfully' : 'Some fonts may not have loaded properly'
            };
            
            displayTestResult(resultDiv, result);
            testResults.fontLoading = result;
        }

        function testResponsiveness() {
            logToConsole('Responsiveness test: Resize browser window to test different breakpoints');
            logToConsole('Check if layout adapts properly at: 320px, 768px, 1200px+');
        }

        function testPerformance() {
            const resultDiv = document.getElementById('performanceTestResult');
            const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
            
            const result = {
                status: loadTime < 3000 ? 'success' : loadTime < 5000 ? 'warning' : 'error',
                message: `Page load time: ${loadTime}ms`,
                details: loadTime < 3000 ? 'Excellent performance' : loadTime < 5000 ? 'Good performance' : 'Performance needs improvement'
            };
            
            displayTestResult(resultDiv, result);
            testResults.performance = result;
        }

        function testAccessibility() {
            const resultDiv = document.getElementById('accessibilityTestResult');
            let score = 0;
            let total = 4;
            
            // Check for alt attributes on images
            const images = document.querySelectorAll('img');
            const imagesWithAlt = Array.from(images).filter(img => img.alt).length;
            if (imagesWithAlt === images.length) score++;
            
            // Check for proper heading structure
            const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
            if (headings.length > 0) score++;
            
            // Check for proper contrast (basic check)
            const body = document.body;
            const computedStyle = window.getComputedStyle(body);
            const backgroundColor = computedStyle.backgroundColor;
            const color = computedStyle.color;
            if (backgroundColor && color) score++;
            
            // Check for keyboard navigation support
            const focusableElements = document.querySelectorAll('a, button, input, select, textarea');
            if (focusableElements.length > 0) score++;
            
            const result = {
                status: score === total ? 'success' : score >= total * 0.75 ? 'warning' : 'error',
                message: `Accessibility score: ${score}/${total}`,
                details: `Basic accessibility features: ${score >= total * 0.75 ? 'Good' : 'Needs improvement'}`
            };
            
            displayTestResult(resultDiv, result);
            testResults.accessibility = result;
        }

        function testCrossBrowser() {
            const resultDiv = document.getElementById('crossBrowserTestResult');
            const userAgent = navigator.userAgent;
            let browser = 'Unknown';
            
            if (userAgent.includes('Chrome')) browser = 'Chrome';
            else if (userAgent.includes('Firefox')) browser = 'Firefox';
            else if (userAgent.includes('Safari')) browser = 'Safari';
            else if (userAgent.includes('Edge')) browser = 'Edge';
            
            const result = {
                status: 'info',
                message: `Current browser: ${browser}`,
                details: 'Test in multiple browsers to ensure compatibility'
            };
            
            displayTestResult(resultDiv, result);
            testResults.crossBrowser = result;
        }

        function displayTestResult(container, result) {
            const statusClass = result.status;
            const statusIcon = {
                'success': '‚úÖ',
                'error': '‚ùå',
                'warning': '‚ö†Ô∏è',
                'info': '‚ÑπÔ∏è'
            };
            
            container.innerHTML = `
                <div class="test-result ${statusClass}">
                    <span class="status-indicator status-${statusClass}"></span>
                    <strong>${statusIcon[result.status]} ${result.message}</strong>
                    <p>${result.details}</p>
                </div>
            `;
        }

        function logToConsole(message) {
            const console = document.getElementById('debugConsole');
            const timestamp = new Date().toLocaleTimeString();
            console.innerHTML += `[${timestamp}] ${message}\n`;
            console.scrollTop = console.scrollHeight;
        }

        function clearConsole() {
            document.getElementById('debugConsole').innerHTML = 'Console cleared...\n';
        }

        function exportTestResults() {
            const dataStr = JSON.stringify(testResults, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'test-results.json';
            link.click();
            URL.revokeObjectURL(url);
        }

        // Auto-run basic tests on load
        window.addEventListener('load', function() {
            setTimeout(() => {
                testImageLoading();
                testCSSLoading();
                testJSLoading();
                testFontLoading();
                testPerformance();
                testAccessibility();
                testCrossBrowser();
                testLanguageSystem();
                
                logToConsole('‚úÖ Basic tests completed automatically');
                updateTestSummary();
            }, 1000);
        });

        function updateTestSummary() {
            const summaryDiv = document.getElementById('testSummary');
            const totalTests = Object.keys(testResults).length;
            const passedTests = Object.values(testResults).filter(r => r.status === 'success').length;
            const failedTests = Object.values(testResults).filter(r => r.status === 'error').length;
            const warningTests = Object.values(testResults).filter(r => r.status === 'warning').length;
            
            summaryDiv.innerHTML = `
                <h3>Test Summary</h3>
                <div class="test-grid">
                    <div class="test-card">
                        <h4>Total Tests</h4>
                        <p>${totalTests}</p>
                    </div>
                    <div class="test-card">
                        <h4>Passed</h4>
                        <p style="color: #28a745;">${passedTests}</p>
                    </div>
                    <div class="test-card">
                        <h4>Failed</h4>
                        <p style="color: #dc3545;">${failedTests}</p>
                    </div>
                    <div class="test-card">
                        <h4>Warnings</h4>
                        <p style="color: #ffc107;">${warningTests}</p>
                    </div>
                </div>
            `;
        }

        // Fallback translation function for when the main system isn't available
        function applyBasicTranslations(lang) {
            if (lang === 'ar') {
                // Apply basic Arabic translations to test elements
                const testElements = document.querySelectorAll('.test-card h3, .test-card p, .test-section-header');
                testElements.forEach(element => {
                    if (element.textContent.includes('Language Toggle Test')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÑÿ∫ÿ©';
                    } else if (element.textContent.includes('Theme Toggle Test')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ±';
                    } else if (element.textContent.includes('RTL Layout Test')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿÆÿ∑Ÿäÿ∑ RTL';
                    } else if (element.textContent.includes('Logo Switching Test')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿ¥ÿπÿßÿ±';
                    } else if (element.textContent.includes('Test Language Switch')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÑÿ∫ÿ©';
                    } else if (element.textContent.includes('Test Theme Switch')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ±';
                    } else if (element.textContent.includes('Test RTL')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± RTL';
                    } else if (element.textContent.includes('Test Logo Switch')) {
                        element.textContent = 'ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿ¥ÿπÿßÿ±';
                    }
                });
                logToConsole('Applied basic Arabic translations');
            } else {
                // Revert to English
                const testElements = document.querySelectorAll('.test-card h3, .test-card p, .test-section-header');
                testElements.forEach(element => {
                    if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÑÿ∫ÿ©')) {
                        element.textContent = 'Language Toggle Test';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ±')) {
                        element.textContent = 'Theme Toggle Test';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿÆÿ∑Ÿäÿ∑ RTL')) {
                        element.textContent = 'RTL Layout Test';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿ¥ÿπÿßÿ±')) {
                        element.textContent = 'Logo Switching Test';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÑÿ∫ÿ©')) {
                        element.textContent = 'Test Language Switch';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ±')) {
                        element.textContent = 'Test Theme Switch';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± RTL')) {
                        element.textContent = 'Test RTL';
                    } else if (element.textContent.includes('ÿßÿÆÿ™ÿ®ÿßÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿ¥ÿπÿßÿ±')) {
                        element.textContent = 'Test Logo Switch';
                    }
                });
                logToConsole('Reverted to English');
            }
        }

        // Test if translations are actually working
        function testTranslationEffectiveness(lang) {
            logToConsole(`Testing translation effectiveness for ${lang}...`);
            
            if (lang === 'ar') {
                // Check if some text has actually changed to Arabic
                const testTexts = document.querySelectorAll('.test-card h3, .test-card p');
                let arabicTextFound = false;
                
                testTexts.forEach(element => {
                    if (/[\u0600-\u06FF]/.test(element.textContent)) {
                        arabicTextFound = true;
                        logToConsole('Found Arabic text: ' + element.textContent.substring(0, 50));
                    }
                });
                
                if (arabicTextFound) {
                    logToConsole('‚úÖ Arabic translations are working!');
                } else {
                    logToConsole('‚ö†Ô∏è Arabic translations are NOT working - only RTL layout changed');
                    logToConsole('This suggests the translation system needs to be properly connected');
                }
            } else {
                logToConsole('‚úÖ English mode - checking for proper text');
            }
        }

        // Enhanced language testing
        function testLanguageSystem() {
            logToConsole('Testing language system availability...');
            
            let status = 'Unknown';
            let functions = [];
            
            if (window.setLanguage) {
                logToConsole('‚úÖ Main language system found: ' + typeof window.setLanguage);
                status = 'Available';
                functions.push('setLanguage');
            } else {
                logToConsole('‚ùå Main language system not found');
                status = 'Not Found';
            }
            
            if (window.getSavedLang) {
                logToConsole('‚úÖ Language getter found: ' + typeof window.getSavedLang);
                functions.push('getSavedLang');
            } else {
                logToConsole('‚ùå Language getter not found');
            }
            
            if (window.updateDropdownMenus) {
                logToConsole('‚úÖ Dropdown menu updater found: ' + typeof window.updateDropdownMenus);
                functions.push('updateDropdownMenus');
            } else {
                logToConsole('‚ùå Dropdown menu updater not found');
            }
            
            // Update the status display
            updateLanguageStatus(status, functions);
            
            return { status, functions };
        }

        function updateLanguageStatus(status, functions) {
            const statusElement = document.getElementById('langSystemStatus');
            const functionsElement = document.getElementById('langFunctions');
            
            if (statusElement) {
                statusElement.textContent = status;
                statusElement.style.color = status === 'Available' ? '#28a745' : '#dc3545';
            }
            
            if (functionsElement) {
                functionsElement.textContent = functions.length > 0 ? functions.join(', ') : 'None';
            }
        }

        function refreshLanguageStatus() {
            testLanguageSystem();
        }
    </script>
</body>
</html> 
